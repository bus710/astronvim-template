{
    "setup":{
        "prefix": ["app.gleam with application"],
        "description": "app.gleam with application for lustre",
        "body":[
            "import gleam/int",
            "import lustre as ls",
            "import lustre/attr as attr",
            "import lustre/effect.{type Effect}",
            "import lustre/element.{type Element}",
            "import lustre/element/html as ht",
            "import lustre/event as ev",
            "import rsvp",
            "",
            "pub fn main() {",
            "  let app = ls.application(init, update, view)",
            "  let assert Ok(_) = ls.start(app, \"#app\", Nil)",
            "",
            "  Nil",
            "}",
            "",
            "type Model {",
            "  Model(total: Int, total_string: String)",
            "",
            "fn init(_) -> #(Model, Effect(Msg)) {",
            "  let model = Model(total: 0, total_string: \"0\")",
            "  #(model, effect.none())",
            "}",
            "",
            "type Msg {",
            "  UserClickedIncrement",
            "  UserClickedDecrement",
            "}",
            "",
            "fn update(model: Model, msg: Msg) -> #(Model, Effect(Msg)) {",
            "  case msg {",
            "    UserClickedIncrement -> Model(model.total + 1, model.total + 1)",
            "    UserClickedDecrement -> Model(model.total - 1, model.total - 1)",
            "  }",
            "}",
            "",
            "fn view(model: Model) -> Element(Msg) {",
            "  ht.div(",
            "    [attr.class(\"h-screen flex flex-col justify-center items-center\")],",
            "    [",
            "      ht.button([event.on_click(UserClickedDecrement)], [ht.text(\"-\")]),",
            "      ht.p(",
            "        [",
            "          attr.class(\"my-4\"),",
            "          case model > 3 {",
            "            True -> attr.class(\"text-red-800 font-bold\")",
            "            False -> attr.none()",
            "          },",
            "        ],",
            "        [ht.text(\"Count: \"), ht.text(int.to_string(model))],",
            "      ),",
            "      ht.button([event.on_click(UserClickedIncrement)], [ht.text(\"+\")]),",
            "    ],",
            "  )",
            "}"
        ]
    }
}

